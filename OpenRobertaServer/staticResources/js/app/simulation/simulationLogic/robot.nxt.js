var __extends=this&&this.__extends||function(){var e=function(s,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])},e(s,t)};return function(s,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=s}e(s,t),s.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();define(["require","exports","robot.ev3","robot.actuators","robot.sensors","robot.base.mobile","jquery"],(function(e,s,t,o,n,r,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(e){function s(){var s=null!==e&&e.apply(this,arguments)||this;return s.timer=new n.Timer(1),s}return __extends(s,e),s.prototype.configure=function(e){this.chassis=new o.NXTChassis(this.id,e,2,this.pose);var s=e.SENSORS,t=function(e){switch(s[e].TYPE){case"TOUCH":i[e]=new n.TouchSensor(e,25,0,i.chassis.geom.color);break;case"COLOR":case"LIGHT":var t=[],o=i;Object.keys(i).forEach((function(e){o[e]&&(o[e]instanceof n.LightSensor||o[e]instanceof n.ColorSensor)&&t.push(o[e])}));var a=10*(u=t.length+1)-5*(Object.keys(s).filter((function(e){return"LIGHT"==s[e].TYPE||"COLOR"==s[e].TYPE})).length+1);i[e]="COLOR"===s[e].TYPE?new n.NXTColorSensor(e,15,a,0,5):new n.LightSensor(e,15,a,0,5);break;case"SOUND":i[e]=new n.SoundSensor(i,e);break;case"ULTRASONIC":var c=[],h=i;Object.keys(i).forEach((function(e){h[e]&&h[e]instanceof n.DistanceSensor&&c.push(h[e])}));var u=c.length+1,f=Object.keys(s).filter((function(e){return"ULTRASONIC"==s[e].TYPE})).length,l=new r.Pose(i.chassis.geom.x+i.chassis.geom.w,0,0);if(3==f)1==u?l=new r.Pose(i.chassis.geom.h/2,-i.chassis.geom.h/2,-Math.PI/4):2==u&&(l=new r.Pose(i.chassis.geom.h/2,i.chassis.geom.h/2,Math.PI/4));else if(f%2==0)switch(u){case 1:l=new r.Pose(i.chassis.geom.x+i.chassis.geom.w,-i.chassis.geom.h/2,-Math.PI/4);break;case 2:l=new r.Pose(i.chassis.geom.x+i.chassis.geom.w,i.chassis.geom.h/2,Math.PI/4);break;case 3:l=new r.Pose(i.chassis.geom.x,-i.chassis.geom.h/2,-3*Math.PI/4);break;case 4:l=new r.Pose(i.chassis.geom.x,i.chassis.geom.h/2,3*Math.PI/4)}i[e]=new n.UltrasonicSensor(e,l.x,l.y,l.theta,255)}},i=this;for(var c in s)t(c);this.buttons=new n.EV3Keys([{name:"left",value:!1},{name:"enter",value:!1},{name:"right",value:!1}],this.id);var h=this;for(var u in this.buttons.keys){var f=a("#"+this.buttons.keys[u].name+h.id);f.on("mousedown touchstart",(function(){h.buttons.keys[this.id.replace(/\d+$/,"")].value=!0})),f.on("mouseup touchend",(function(){h.buttons.keys[this.id.replace(/\d+$/,"")].value=!1}))}},s}(t.default);s.default=i}));
//# sourceMappingURL=robot.nxt.js.map
//# sourceMappingURL=robot.nxt.js.map

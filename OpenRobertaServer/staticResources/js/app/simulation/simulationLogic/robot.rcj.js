var __extends=this&&this.__extends||function(){var e=function(s,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])},e(s,t)};return function(s,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=s}e(s,t),s.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();define(["require","exports","robot.base.mobile","robot.sensors","robot.actuators","jquery"],(function(e,s,t,o,n,r){Object.defineProperty(s,"__esModule",{value:!0});var i=function(e){function s(){var s=null!==e&&e.apply(this,arguments)||this;return s.timer=new o.Timer(5),s.webAudio=new n.WebAudio,s}return __extends(s,e),s.prototype.configure=function(e){var s=this;this.chassis=new n.RCJChassis(this.id,e,1.75,this.pose),this.led=new n.StatusLed({x:-5,y:0},this.chassis.geom.color,"#EBC300");var i=e.SENSORS,a=function(e){switch(i[e].TYPE){case"TOUCH":c[e]=new o.TouchSensor(e,-25,0,c.chassis.geom.color);break;case"INDUCTIVE":c[e]=new o.InductiveSensor(e,14,0,60);break;case"COLOUR":var n=[];Object.keys(c).forEach((function(e){s[e]&&s[e]instanceof o.ColorSensor&&n.push(s[e])}));var r=10*(n.length+1)-5*(Object.keys(i).filter((function(e){return"COLOUR"==i[e].TYPE})).length+1);c[e]=new o.ColorSensorHex(e,9,r,0,5);break;case"ULTRASONIC":var a=[],h=c;Object.keys(c).forEach((function(e){h[e]&&h[e]instanceof o.DistanceSensor&&a.push(h[e])}));var u=a.length+1,f=Object.keys(i).filter((function(e){return"ULTRASONIC"==i[e].TYPE})).length,l=new t.Pose(c.chassis.geom.x+c.chassis.geom.w,0,0);if(3==f)1==u?l=new t.Pose(c.chassis.geom.h/2,-c.chassis.geom.h/2,-Math.PI/4):2==u&&(l=new t.Pose(c.chassis.geom.h/2,c.chassis.geom.h/2,Math.PI/4));else if(f%2==0)switch(u){case 1:l=new t.Pose(c.chassis.geom.x+c.chassis.geom.w,-c.chassis.geom.h/2,-Math.PI/4);break;case 2:l=new t.Pose(c.chassis.geom.x+c.chassis.geom.w,c.chassis.geom.h/2,Math.PI/4);break;case 3:l=new t.Pose(c.chassis.geom.x,-c.chassis.geom.h/2,-3*Math.PI/4);break;case 4:l=new t.Pose(c.chassis.geom.x,c.chassis.geom.h/2,3*Math.PI/4)}c[e]=new o.UltrasonicSensor(e,l.x,l.y,l.theta,250)}},c=this;for(var h in i)a(h);this.buttons=new o.EV3Keys([{name:"rcjButtonLeft",value:!1},{name:"rcjButtonRight",value:!1}],this.id);var u=r("#rcjButtonStop"+this.id);for(var f in u.on("mousedown touchstart",(function(){s.interpreter.terminate()})),this.buttons.keys){var l=r("#"+this.buttons.keys[f].name+s.id);l.on("mousedown touchstart",(function(){s.buttons.keys[this.id.replace(/\d+$/,"")].value=!0})),l.on("mouseup touchend",(function(){s.buttons.keys[this.id.replace(/\d+$/,"")].value=!1}))}this.gyro=new o.GyroSensor},s}(t.RobotBaseMobile);s.default=i}));
//# sourceMappingURL=robot.rcj.js.map
//# sourceMappingURL=robot.rcj.js.map

var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var a,e=1,r=arguments.length;e<r;e++)for(var i in a=arguments[e])Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);return t},__assign.apply(this,arguments)};define(["require","exports","util.roberta","guiState.controller","progTutorial.controller","table","jquery","bootstrap-table","bootstrap-tagsinput"],(function(t,a,e,r,i,o,l){Object.defineProperty(a,"__esModule",{value:!0}),a.switchLanguage=a.init=void 0;var n,s=["#33B8CA","#EBC300","#005A94","#179C7D","#F29400","#E2001A","#EB6A0A","#8FA402","#BACC1E","#9085BA","#FF69B4","#DF01D7"];function u(){for(var t in n=r.getListOfTutorials())n.hasOwnProperty(t)&&l("#head-navigation-tutorial-dropdown").append("<li class='"+n[t].language+" "+n[t].robot+"'><a href='#' id='"+t+"' class='menu tutorial typcn typcn-mortar-board'>"+n[t].name+"</a></li>");var a,s,u;a=r.getLanguage(),s={columns:[{field:"robot",title:"",sortable:!0,formatter:o.CardView.robot},{field:"name",title:"",sortable:!0,formatter:o.CardView.name},{field:"overview.description",title:"",sortable:!0,formatter:o.CardView.description},{field:"overview.goal",title:"",sortable:!0,formatter:function(t){return o.CardView.titleLabel(t,"TITLE_GOAL","cardViewDescription")}},{field:"overview.previous",title:"",sortable:!0,formatter:function(t){return o.CardView.titleLabel(t,"TITLE_PREVIOUS","cardViewDescription")}},{field:"time",title:"",formatter:function(t){return o.CardView.titleTypcn(t,"stopwatch")},sortable:!0},{field:"age",title:"",formatter:function(t){return o.CardView.titleTypcn(t,"group")},sortable:!0},{field:"sim",title:"",formatter:function(t){return o.CardView.titleTypcn(d(t),"simulation")},sortable:!0},{field:"level",title:"",formatter:function(t){return o.CardView.titleTypcn(f(t),"mortar-board")},sortable:!0},{field:"tags",title:"",sortable:!0,formatter:o.CardView.tags},{field:"index",title:"",visible:!1},{field:"group",title:"",visible:!1}],locale:a,rowAttributes:b,sortName:"index",sortOrder:"asc",toolbar:"#tutorialListToolbar"},u=__assign(__assign(__assign({},o.CommonTable.options),o.CardView.options),s),l("#tutorialTable").bootstrapTable(u),function(){l("#tabTutorialList").off(),l("#tutorialTable").off(),l("#backTutorialList").off(),l("#tabTutorialList").onWrap("shown.bs.tab",(function(){return guiStateController.setView("tabTutorialList"),c(),!1}),"tutorial clicked");var t=function(){l("#tutorialTable").bootstrapTable("resetView",{height:e.calcDataTableHeight()}),p()};l(window).off("resize",t),l(window).on("resize",t),l("#tutorialTable").onWrap("post-body.bs.table",t,"page-change tutorial list"),l("#tutorialList").find('button[name="refresh"]').onWrap("click",(function(){return c(),!1}),"refresh tutorial list clicked"),l("#tutorialTable").onWrap("click-row.bs.table",(function(t,a){t.stopPropagation(),t.preventDefault(),i.loadFromTutorial(a.id)}),"Load program from tutorial double clicked"),l("#backTutorialList").onWrap("click",(function(){return l("#"+r.getPrevView()).tabWrapShow(),!1}),"back to program view"),l("#tutorialTable").on("shown.bs.collapse hidden.bs.collapse",(function(t){l("#tutorialTable").bootstrapTable("resetWidth")}))}()}function c(){l("#tutorialTable").bootstrapTable("showLoading");var t=[];for(var a in n)n.hasOwnProperty(a)&&n[a].language===r.getLanguage().toUpperCase()&&(n[a].id=a,t.push(n[a]));l("#tutorialTable").bootstrapTable("load",t),p(),l("#tutorialTable").bootstrapTable("hideLoading"),l("#tutorialTable").bootstrapTable("resetView",{height:e.calcDataTableHeight()})}a.init=u,a.switchLanguage=function(){l("#tutorialTable").bootstrapTable("destroy"),u(),"tabTutorialList"===r.getView()&&c()};var b=function(t,a){var r=e.getHashFrom(t.robot+t.name+t.index);return{class:"col-xxl-2 col-lg-3 col-md-4 col-sm-6",style:"background-color :"+s[r%s.length]+";"}},d=function(t){return!t||"sim"!==t&&1!==t?"nein":"ja"},f=function(t){var a="";if(t){for(var e=isNaN(t)?t.split("/")[1]:3,r=isNaN(t)?t.split("/")[0]:t,i=1;i<=e;i++)a+=i<=r?'<span style="left: 0;" class="tutorialLevel typcn typcn-star-full-outline"/>':'<span class="tutorialLevel typcn typcn-star-outline"/>';a='<span class="tutorialLevelStars">'+a,a+="</span>"}return a};function p(){l(".infoTags").tagsinput(),l("#tutorialTable .bootstrap-tagsinput").addClass("galleryTags"),l("#tutorialList").find(".tutorialTags>input").attr("readonly","true"),l("#tutorialList").find("span[data-role=remove]").addClass("hidden")}}));
//# sourceMappingURL=tutorialList.controller.js.map
//# sourceMappingURL=tutorialList.controller.js.map

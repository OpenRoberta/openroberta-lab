define(["require","exports"],(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={"5V":"#f01414",GND:"#333333"},o=function(){function t(t){this.pos=t,this.next=null}return Object.defineProperty(t.prototype,"position",{get:function(){return this.pos},enumerable:!1,configurable:!0}),t}();function i(t,e){return Math.abs(t-e)}var r=function(){function t(t,e,n,i){this.blockCorners=i,i&&(this.left=this.blockCorners.upperLeft.x===t.x),this.portIndex=n,this.head=new o(t),this.head.next=new o(e),this.toOrthoLines_()}return t.prototype.addPoint_=function(t,e){var n=new o(e);n.next=t.next,t.next=n},t.prototype.toOrthoLines_=function(){var e=this.head.pos,n=e.x,o=e.y,r=this.head.next.pos,a=r.x,h=r.y;if(n!==a&&o!==h){var s=n<a?Math.max(n,a):Math.min(n,a),u=o<h?Math.min(o,h):Math.max(o,h);if(this.blockCorners){var c,d,f,p=this.blockCorners,x=p.lowerRight,l=p.upperLeft,y=(this.portIndex+1)*t.SEPARATOR;c=[x.y+y,l.y-y],d=h,f=function(t,e){return t<e},void 0===f&&(f=function(t,e){return t>e}),u=f(i(c[0],d),i(c[1],d))?c[0]:c[1];var b=this.left?n-y:n+y;this.addPoint_(this.head,{x:s,y:u}),this.addPoint_(this.head,{x:b,y:u}),this.addPoint_(this.head,{x:b,y:o})}else this.addPoint_(this.head,{x:s,y:u})}},Object.defineProperty(t.prototype,"path",{get:function(){for(var t=this.head.position,e="M ".concat(t.x," ").concat(t.y),n=this.head.next;null!==n;){var o=n.position;e="".concat(e," L ").concat(o.x," ").concat(o.y),n=n.next}return e},enumerable:!1,configurable:!0}),t.darken=function(t){t=t.slice(1);var e=parseInt(t,16),n=(e>>16)-50,o=(e>>8&255)-50,i=(255&e)-50;return"#"+((i=i<0?0:i)|(o=o<0?0:o)<<8|(n=n<0?0:n)<<16).toString(16)},t.getColor=function(e,o){return n[o]?n[o]:t.darken(e.colour_)},t.SEPARATOR=6,t}();e.default=r}));
//# sourceMappingURL=wires.js.map
//# sourceMappingURL=wires.js.map

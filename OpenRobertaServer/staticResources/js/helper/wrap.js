define(["require","exports","comm","log","jquery"],(function(r,t,n,a,e){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapErrorFn=t.wrapREST=t.wrapUI=t.wrapTotal=void 0;var i=0;function c(r){var t=/^function\s+([\w\$]+)\s*\(/.exec(r.toString());return t?t[1]:"<anonymous>"}function E(r,t){return function(){var n=new Date;try{var e=r.apply(this,arguments);if(void 0!==t){var i=new Date-n;a.text(i+" msec: "+t,"[[TIME]] ")}return e}catch(e){var E=new Error;i=new Date-n;void 0!==t?a.error("[[ERR ]] "+i+" msec: "+t+", then in function "+c(r)+" EXCEPTION: "+e+" in function "+c(r)+" with stacktrace: "+E.stack):a.error("[[ERR ]] "+i+" msec: in function "+c(r)+" EXCEPTION: "+e+" with stacktrace: "+E.stack)}}}t.wrapTotal=E,t.wrapUI=function(r,t){return function(){if(i>0)void 0!==t?a.text("SUPPRESSED ACTION: "+t):a.text("SUPPRESSED ACTION without message");else try{i++;var e=E(r,t),o=e.apply(this,arguments);return i--,o}catch(t){i--;var p=new Error;a.error("wrapUI/wrapTotal CRASHED UNEXPECTED AND SEVERELY in function "+c(r)+" with EXCEPTION: "+t+" and stacktrace: "+p.stack),n.ping()}}},t.wrapREST=function(r,t){return function(){n.errorNum=0,i++;try{var e=E(r,t);e.apply(this,arguments),i--}catch(t){i--;var o=new Error;a.error("wrapREST/wrapTotal CRASHED UNEXPECTED AND SEVERELY in function "+c(r)+" with EXCEPTION: "+t+" and stacktrace: "+o.stack),n.ping()}}},t.wrapErrorFn=function(r){return function(){try{var t=E(r,message);t.apply(this,arguments),i--}catch(r){i--;var e=new Error;a.error("wrapErrorFn/wrapTotal CRASHED UNEXPECTED AND SEVERELY in function "+c(fnToBeWrapped)+" with EXCEPTION: "+r+" and stacktrace: "+e.stack),n.ping()}}},e.fn.onWrap=function(r,t,n,e){if("string"==typeof t){if("function"==typeof n)return this.on(r,t,WRAP.wrapUI(n,e));a.error("illegal wrapping. Parameter: "+r+" ::: "+t+" ::: "+n+" ::: "+e)}else if("function"==typeof t){if("string"==typeof n||void 0===n)return this.on(r,WRAP.wrapUI(t,n));a.error("illegal wrapping. Parameter: "+r+" ::: "+t+" ::: "+n+" ::: "+e)}},e.fn.clickWrap=function(r){i--;try{void 0===r?this.trigger("click"):this.trigger("click",r),i++}catch(e){i++;var t=new Error;a.error("clickWrap CRASHED UNEXPECTED AND SEVERELY in callback "+c(r)+" with EXCEPTION: "+e+" and stacktrace: "+t.stack),n.ping()}},e.fn.tabWrapShow=function(){i--;try{this.tab("show"),i++}catch(t){i++;var r=new Error;a.error("tabWrap CRASHED UNEXPECTED AND SEVERELY with EXCEPTION: "+t+" and stacktrace: "+r.stack),n.ping()}},e.fn.oneWrap=function(r,t){i--;try{this.one(r,t),i++}catch(r){i++;var e=new Error;a.error("oneWrap CRASHED UNEXPECTED AND SEVERELY in callback "+c(t)+" with EXCEPTION: "+r+" and stacktrace: "+e.stack),n.ping()}}}));
//# sourceMappingURL=wrap.js.map
//# sourceMappingURL=wrap.js.map

define(["require","exports"],(function(e,t){var i,s,n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.setCodeLanguage=t.setTextlyVisibility=t.setTextlyEditable=t.setTextlyAnnotations=t.setViewCode=t.setTextlyEditorCode=t.setEditorCode=t.getTextlyEditorCode=t.getEditorCode=t.setWasEditedByUser=t.getCurrentLanguage=t.wasEditedByUser=t.init=void 0;var a=!1,r=0,c=!1,d={getCompletions:function(e,t,i,s,n){var o=[];["if","else","else if","++","while","for","for each","break","continue","waitUntil","orWaitFor","wait ms","return","testme"].forEach((function(e){o.push({caption:e,value:e,meta:"control",score:1e3})})),["sin","cos","tan","asin","acos","atan","exp","square","sqrt","abs","log10","log","randomInt","randomFloat","randomItem","floor","ceil","round","isEven","isOdd","isPrime","isWhole","isEmpty","isPositive","isNegative","isDivisibleBy","sum","max","min","average","median","stddev","size","indexOfFirst","indexOfLast","get","getFromEnd","getFirst","getLast","getAndRemove","getAndRemoveFromEnd","getAndRemoveFirst","getAndRemoveLast","createListWith","subList","subListFromIndexToLast","subListFromIndexToEnd","subListFromFirstToIndex","subListFromFirstToLast","subListFromFirstToEnd","subListFromEndToIndex","subListFromEndToEnd","subListFromEndToLast","print","createTextWith","constrain","getRGB"].forEach((function(e){o.push({caption:e,value:e,meta:"function",score:1e3})})),n(null,o)}};function l(e){e.session.setUseWrapMode(!0),e.setShowPrintMargin(!1)}function u(e){e.setHighlightActiveLine(!1),0==e.getSelectedText().length&&e.setHighlightActiveLine(!0)}function g(e){var t=0;return e.session.getAllFolds().forEach((function(e){var i=e.start.row,s=e.end.row;t+=s-i})),e.session.getLength()-t}function f(e){for(var t in e.session.getMarkers(!1))e.session.removeMarker(Number(t));for(var i=0;i<g(e);i++)i%2==1?(e.session.addGutterDecoration(i,"ace_lineBackgroundGrey"),e.session.highlightLines(i,i,"ace_lineBackgroundGrey",!1)):e.session.highlightLines(i,i,"ace_lineBackgroundWhite",!1)}t.init=function(){c||(c=!0,ace.require("ace/ext/language_tools"),l(i=ace.edit("codeContent")),i.setOptions({readOnly:!0,highlightActiveLine:!1,highlightGutterLine:!1}),l(s=ace.edit("aceEditor")),s.setOptions({enableBasicAutocompletion:!0,enableSnippets:!1,enableLiveAutocompletion:!1}),l(n=ace.edit("aceTextlyEditor")),n.session.setUseWrapMode(!0),n.setHighlightActiveLine(!0),n.setShowPrintMargin(!1),n.session.setMode("ace/mode/my-mode"),aceTextlyEditor.completers=[d],n.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),s.session.on("change",(function(){r!==s.session.getLength()&&(r=s.session.getLength(),u(s)),a=!0})),s.session.on("changeFold",(function(){u(s)})),s.selection.on("changeSelection",(function(){u(s)})),i.session.on("changeFold",(function(){f(i)})),$(window).resize((function(){i.resize(),s.resize()})),n.session.on("change",(function(){r!==n.session.getLength()&&(r=n.session.getLength(),u(n)),a=!0})),n.session.on("changeFold",(function(){u(n)})),n.selection.on("changeSelection",(function(){u(n)})))},t.wasEditedByUser=function(){return a},t.getCurrentLanguage=function(){return o},t.setWasEditedByUser=function(e){a=e},t.getEditorCode=function(){return s.getValue()},t.getTextlyEditorCode=function(){return n.getValue()},t.setEditorCode=function(e){s.setValue(e,0),s.clearSelection(),s.focus(),u(s)},t.setTextlyEditorCode=function(e){n.setValue(e,0),n.clearSelection(),n.focus(),u(n)},t.setViewCode=function(e){i.setValue(e,0),i.clearSelection(),i.moveCursorTo(0,0),f(i)},t.setTextlyAnnotations=function(e){n.session.setAnnotations(e)},t.setTextlyEditable=function(e){e?(n.setReadOnly(!1),n.getSession().setUseWorker(!0)):(n.setReadOnly(!0),n.getSession().setUseWorker(!1))},t.setTextlyVisibility=function(e,t){void 0===t&&(t="display"),"display"===t?e?$("#aceTextlyEditor").css("display","block"):$("#aceTextlyEditor").css("display","none"):"visibility"===t&&(e?$("#aceTextlyEditor").css("visibility","visible"):$("#aceTextlyEditor").css("visibility","hidden"))},t.setCodeLanguage=function(e){var t;switch(e){case"py":default:t="python";break;case"java":t="java";break;case"ino":case"nxc":case"cpp":t="c_cpp";break;case"json":t="json"}s.session.setMode("ace/mode/"+t),i.session.setMode("ace/mode/"+t),r=s.session.getLength(),o=t}}));
//# sourceMappingURL=aceEditor.js.map
//# sourceMappingURL=aceEditor.js.map
